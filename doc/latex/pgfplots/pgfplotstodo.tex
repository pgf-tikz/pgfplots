\documentclass[a4paper]{article}

\usepackage{bugtracker}
\usepackage[intlimits]{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{hyperref}
\hypersetup{pdfborder={0 0 0}}
% \usepackage{amsthm}

% Ein Haekchen aus pifont:
\usepackage{pifont}
\newcommand{\ok}{\ifmmode\text{\ding{51}}\else \ding{51}\fi}
\newcommand{\scissor}{\ifmmode\text{\ding{33}} \else \ding{33}\fi}

\declarebugtrackeritem{pgfbug}{1}
\bugtrackerset{
	prefix=bugtracker/minimal_,
}

% Fix overful hboxes automatically:
\tolerance=2000
\emergencystretch=15pt

\author{Christian Feuers\"anger}
\title{Todolist for PGFPlots}

\begin{document}
\maketitle
\tableofcontents
\section{Tests}

last test verifications:

\begin{tabular}{llll}
					&	pgf	CVS	&	pgf	2.00	&pgf 2.00+compat=default\\
pgfplotstests		&	for 1.4	&	for 1.4		&2009-12-30					\\
manual				&	for 1.4	&	for 1.4		&	\\
pgfplotstable.pdf	&	for 1.4	&	for 1.4\\
example	latex		&	for 1.4	&	2009-12-30					\\
example	context		&	for 1.4	&	2009-12-30				\\
example	plain tex	&	for 1.4	&	2009-12-30				\\
tests context		&	for 1.4	&\\
\end{tabular}

\section{Components planned for version 1.5}
\begin{itemize}
\item hist 98\% (complete UI?)
\item quiver 95\% (test, shall I create an UI for autoscaling of arrows?)
\item contours 95\% ready.
  	add "labels=if less than X"
\item[perhaps] contour filled 10\% ready 
\item patch plots lib: 95\%

	\begin{itemize}
		\item 
	implement displacement input
		\item bug for quad rectangle in middle point
		\item perhaps 1d quadratic/cubic patches (simple)?
	\end{itemize}
\item polar axes: 70\% ready
	\begin{itemize}
  	\item undocumented
	\item missing feature: input of cartesian coords
	\item special cases (?)
	\end{itemize}
\item ternary: 80\% ready
	\begin{itemize}
  	\item but there are still quite a lot of feature request concerning them
	\item konnodalplots (? implement in new branch to check difficulty)
	\end{itemize}
\item smith charts: 0\% ready, but implementation should be simple with what I have
  now

  $\rightarrow$ implement in new branch
\item internal coordmath framework: 80\% ready, but not used everywhere and
  undocumented
\item layer graphics support for axes 0\% (should be easy, implement in new branch)
\item view configuration:
	\begin{itemize}
		\item \ok document gnuplot import/export
		\item view matrix input?
	\end{itemize}
\item check 'empty lines' feature -> should have compat mode
\item new public axis API is 90\% complete:
  	 documentation is missing
  	 log scaling is difficult, still
\item Bugfixes
	\begin{itemize}
		\item what about 'scale' transformations? Are they correct?
	\end{itemize}
\end{itemize}

\begin{bugtracker}
\begin{bug}
Test fuer bugtracker:
\begin{minimal}
\documentclass{article}

\begin{document}
Hallo Welt
\end{document}
\end{minimal}
\end{bug}
\end{bugtracker}

\section{Documentation todo}
\begin{bugtracker}
\begin{doctodo}[-]
  release notes:
	mention improvements of 'shader=interp'
\end{doctodo}

\begin{doctodo}[-]
  new 'output cs' feature (when it is finished)
\end{doctodo}

\begin{doctodo}[+]
  There is a typo on section 4.5.12: "As for for dimensional patch plots "
\end{doctodo}

\begin{doctodo}[-]
  quiver: the tests have a further pretty example where quiver is on top of
  a surf, attached to z =2 or so.
\end{doctodo}

\begin{doctodo}[+]
  document 'shader=faceted interp'
\end{doctodo}

\begin{doctodo}[-]
  document 'mesh/type'
\end{doctodo}

\begin{doctodo}[+]
  document the 'plot graphics/points' feature.
\end{doctodo}

\begin{doctodo}[-]
  try a bar plot with individually shaded bars
\end{doctodo}

\begin{doctodo}[+]
  document 'contour prepared', 'contour external' and 'contour gnuplot'.
\end{doctodo}

\begin{doctodo}[-]
  contour external: Do not forget the \verb|\", \'| etc special handling .
\end{doctodo}

\begin{doctodo}[-]
  contour: document 'labels over line' style
\end{doctodo}

\begin{doctodo}[-]
  contour: a change label dist
\end{doctodo}

\begin{doctodo}[-]
  contour: document the special handling of "point meta".
\end{doctodo}

\begin{doctodo}[+]
  clickable: 
	document 'popup size' and its variants
	document `clickable coords size'
	document 'richtext' and the formatting things
	document \verb|\n| and friends
\end{doctodo}

\begin{doctodo}[+]
  document ternary lib
	+ do not forget 'cartesian cs' and its applications
\end{doctodo}

\begin{doctodo}[-]
  document frac whole format
\end{doctodo}

\begin{doctodo}[-]
  document /pgfplots/empty line
\end{doctodo}

\begin{doctodo}[-]
  document 'clickable coords' and 'clickable coords code' features
\end{doctodo}

\begin{doctodo}[-]
  document 'execute at begin axis' and its new variants
\end{doctodo}

 There's a tiny typo in pgfplots manual:
   \verb|  \addplot table[x index=0,y index=0,header=false]|
 on page 18. The second index should be 1, not 1.

\begin{doctodo}[-]
  document how to plot against the coordindex
\end{doctodo}

\begin{doctodo}[-]
  document the new 'getcolumnbyname={create col/....}' feature
\end{doctodo}

\begin{doctodo}[+]
  document linear regression 
\end{doctodo}

\begin{doctodo}[-]
  document how to identify the source of "dimension too large" errors:
  tracingstuff.
\end{doctodo}

\begin{doctodo}[-]
  document how to fix dimension too large problems: restrict to domain for
  example
\end{doctodo}

\begin{doctodo}[-]
  colorbar styles are not consistent between docs and code
\end{doctodo}

\begin{doctodo}[-]
  It seems as if the AMS command \verb|$\text{\ref{ref:to:a:plot}}$| instantiates the
  \verb|\ref| at least four times. Document somehow that it is better to use '\verb|\hbox|'
  instead
\end{doctodo}

\begin{doctodo}[-]
  pgfplotstable: show how to use '\verb|\begin{longtable}|'
\end{doctodo}

\begin{doctodo}[-]
  clickable lib:
	I have the impression that acroread fires warnings only for the manual - not always when the clickable lib is used. Why!?
\end{doctodo}

\end{bugtracker}


\section{Bugs in PGF/TikZ}
\begin{bugtracker}

\begin{pgfbug}[-]
  external bug: 
\begin{verbatim}
\documentclass[
    pagesize=auto,                  % 1
        ]{scrbook}
\usepackage{tikz}
    \usetikzlibrary{external}
        \tikzexternalize
\begin{document}
        \KOMAoption{twoside}{semi}  % 2
            test
    \tikz \draw (0,0) circle (3pt);
\end{document}
\end{verbatim}
\end{pgfbug}

\begin{pgfbug}[-]
  consider a matrix style which applies only to the outer matrix node style
  (see feature request
  \verb|https://sourceforge.net/tracker/?func=detail&atid=1060657&aid=3019259&group_id=224188|
  )
\end{pgfbug}

\begin{pgfbug}[-]
  make assignments to \verb|\pgf@x| and \verb|\pgf@y| always \verb|\global|
\end{pgfbug}

\begin{pgfbug}[-]
  implement \verb|\pgfmathfloattocount|
\end{pgfbug}

\begin{pgfbug}[-]
  external lib: think whether it is possible to provide the real jobname
  without explicit user input. Idea: transport it as TeX code argument to pdflatex
\end{pgfbug}

\begin{pgfbug}[-]
  provide '$\times$' or more general formatting rules to number printer
\end{pgfbug}

\begin{pgfbug}[-]
  code 2 args doesn't work correctly with spaces between the arguments!?
\end{pgfbug}


\begin{pgfbug}[+]
  external lib: implement \verb|\tikzpicturedependsonfile#1|
\end{pgfbug}

\begin{pgfbug}[+]
  in pgfplots: invoke \verb|\tikzpicturedependsonfile|. 
  perhaps the plot-from-table-struct should also use it.
\end{pgfbug}

\begin{pgfbug}[+]
  external lib: 'list and make' does not work together with \verb|\include| (aux files!) or other file writing things -- at least not if one tries to do that in parallel.
\end{pgfbug}

\begin{pgfbug}[+]
  consider the "plot function" patch from Andy Schlaikjer
\end{pgfbug}

\begin{pgfbug}[+]
  it seems fadings don't work correctly with externalization!? 
\end{pgfbug}

\begin{pgfbug}[-]
  include addition of Christophe Jorssen for MD5 checksums in external lib
\end{pgfbug}

\begin{pgfbug}[+]
  write new sub-package 'pgfmanual.sty' which contains a good user interface to the manual styles, environments and all that.
\end{pgfbug}

\begin{pgfbug}[+]
  external lib: catcode changes inside of pictures do not work properly.
\end{pgfbug}

\begin{pgfbug}[-]
  the fpu can't be used inside of paths. That should be fixed.
	$\leadsto$ the problem is that paths may use \verb|\pgfmath...| routines directly.
	$\leadsto$ this should work! At least with the public math macros \verb|\pgfmathadd|.
	The \verb|\pgfmathadd@| might be implemented differently.
\end{pgfbug}

\begin{pgfbug}[+]
  in the manual, the first two arguments of
  pgfqkeysactivatesinglefamilyandfilteroptions were inverted.
\end{pgfbug}

\begin{pgfbug}[+]
  some predefined filters do not process unknown options correctly
\end{pgfbug}

\begin{pgfbug}[+]
  external lib in pgf: think whether 'empty image extension' is a bug or a
  feature.
	$\leadsto$ feature of \verb|\pgfimage|! Otherwise it wouldn't be possible to provide an extension!
	$\leadsto$ bug for external lib which never uses extensions!
\end{pgfbug}

\begin{pgfbug}[-]
  fix landscape bug (pdflscape) in external lib (PGF)
\end{pgfbug}

\begin{pgfbug}[+]
  the pgf math parser has wrong precedence for '-' prefix op:
	\verb|exp(-x^2)| is wrong.
\end{pgfbug}

\begin{pgfbug}[-]
  pack the default 'system call' for dvips etc into drivers!
\end{pgfbug}

\begin{pgfbug}[-]
  active '|' characters result in compilation bugs (\verb|\usepackage{program}|)
\end{pgfbug}

\begin{pgfbug}[-]
  'text height=1em' realisieren mit [node font units]1em 
\end{pgfbug}

\begin{pgfbug}[-]
  compatiblity code todo:
  	- the example for plot graphics (with view=0{90}) doesn't work.
	$\leadsto$ that's the '\verb|exp(0-x^2)|' bug which is still in pgf 2.00!
\end{pgfbug}

\end{bugtracker}


\section{Bugs in PGFPlots}

\begin{bugtracker}
\begin{bug}[-]
 the axis line combination styles can't be adjusted for 3D because they are
  evaluated too early.
\end{bug}

\begin{bug}[-]
  external lib + dvi/ps + windows: it seems the ';' doesn't work; use '\&' to
  separate commands
\end{bug}

\begin{bug}[-]
  check y tick scale label for 2nd y axis
\end{bug}

\begin{bug}[-]
  foreach variants in pgfplots accept only one parameter
\begin{verbatim}
%            \foreach \x/\y in {1/a, 2/b, 3/c}
%                {\node at (axis cs:0,\x) {\y};}%   % doesn't work
%            \pgfplotsforeachungrouped \x/\y in {1/a, 2/b, 3/c}
%                {\node at (axis cs:0,\x) {\y};}%   % doesn't work
\end{verbatim}
\end{bug}




\begin{bug}[-]
  groupplots + extra braces or foreach are incompatible.
\end{bug}

\begin{bug}[-]
  the 'xtick' syntax accepts only numbers, not even constant expressions are
  possible (and 'pi' is even more complicated).
\end{bug}

\begin{bug}[-]
  document INS 671 does not compile with pgfplots 1.4 and pgf 2.00
\end{bug}

\begin{bug}[-]
  numplotspertype and forget plot and ybar interval yields errors.
\end{bug}

\begin{bug}[-]
  expression plotting and empty 'y' results in errors. Perhaps it would be
  better to handle that explicitly somehow?
  (occurs for hist when one input line is empty)
\end{bug}

\begin{bug}[-]
  view normal vector does not correctly respect plot box ratio and x dir
\end{bug}

\begin{bug}[-]
  plot box ratio  has a strange input format (compare with unit vector ratio).
\end{bug}

\begin{bug}[-]
  clickable and Windows Acrobat Reader 9 has been reported to fail
\end{bug}

\begin{bug}[-]
  /pgfplots/samples at and /tikz/samples at work on the same axe. Tantau says that this key support foreach statement and thus the dotes notation. However, when I want to use two or more different dots notation within pgfplots, latex crashes !
Here is an example which clarify this issue :
\verb|\addplot+[mark=none,variable={\t}, samples at = {\foreach \x in {0,10,...,180,200,...340} {\x, }360}] ({sin(t*2)}, {cos(t)}); |
\end{bug}

\begin{bug}[-]
  potential incompatibility: clickable and external. The clickable lib writes
  into pgfplots.djs which might cause multithreaded problems.
\end{bug}

\begin{bug}[-]
  groupplots: mixing 2d/3d in one groupplot doesn't reset 'zmin,zmax' ?
 
\end{bug}

\begin{bug}[-]
  'clip=false' does not disable marker clipping!
\end{bug}


\begin{bug}[-]
  multiple ordinates: grid lines are drawn on top of function plots; that's bad.
Check: 
 I think you have to change the process line previousely invoked, and make the axes generation at the end :
1. generating adequate grid -$\leadsto$ 2. plotting functions -$\leadsto$ 3. creating axes, tick nodes...
You can take a minute look at figure 1 @ "The addplot Command: Coordinate Input" section 4.2 p 19.
and you can remark that colour filling overlaps x- and y-axis ! So I suggest that you use "excute at end picture=<axis generation code>" tikz option or similar to avoid this issue.
\end{bug}

\begin{bug}[-]
  3D axes: it is difficult to get an 1:1 correspondence to tikz.
\end{bug}

\begin{bug}[-]
  3D axes: providing three unit vectors is not sufficient, one also needs to set
  'view={}{}'. That should be done automatically.
  
- 3D axes: Providing three unit vectors manually yields incorrect axis
  initialisation.
\end{bug}

\begin{bug}[-]
  3D axis: provide support for manual axis configuration, 
  	- depth (n vector),
	- foreground/background,
	- tick label axes,
	- ...
\end{bug}

\begin{bug}[-]
  Patch plots: directly transform cdata. Should simplify interpolation during
  refine/triangulation etc. and shouldn't make a difference otherwise.
\end{bug}

\begin{bug}[-]
  manual errors of given pgfplots\_unstable version:
 94	2.5.12	\verb|addplot+[patch] --> addplot3+[patch]|
162 			"xmode, ymode, zmode" and "x dir, ..." 
			come again on page 177
\end{bug}

\begin{bug}[-]
  don't loose \verb|\ref|'s when externalizing
  I'll provide a minimal later
\end{bug}


\begin{bug}[-]
  incompatibility pdfpages (most recent version), MikTeX and tikz external lib
  (something with shipout routine)
\end{bug}

\begin{bug}[-]
  plot graphics: \verb|\ref| legend doesn't work properly
\end{bug}

\begin{bug}[-]
  french babel and colorbars are not fully compatible. The problem is that
  colorbars use '\verb|\addplot| graphics {};' with a fixed catcode for the ';' --
  which might lead to problems.
\end{bug}

\begin{bug}[-]
  markers should not be drawn on top of everything else. Always restore the
  clipping region for each plot.
 
\end{bug}

\begin{bug}[-]
  mesh/patch plots:
  	- jump thing + z buffer=sort probably doesn't work
\end{bug}

\begin{bug}[-]
  ternary axes: the 'marker clipping' doesn't work (naturally)
\end{bug}

\begin{bug}[-]
  polar axes: 
  \begin{itemize}
	\item \ok is wrong since 'near ticklabel' anchor uses pointunitx which is not correctly initialised for polar axes.
	\item  axis equal
	\item \ok data scaling needs to be disabled for X axis.
	\item \ok auto tick labels work only for the case of disabledatascaling
\end{itemize}
\end{bug}

\begin{bug}[-]
  contour:
  	the table/meta=2  default is wrong.
\end{bug}

\begin{bug}[-]
  OK    : 'every node near coord/.append style={scale=0.7}'
  NOT OK: 'every node near coord/.append style={scale=0.7},ybar'
  -$\leadsto$ sequence of shift and scale matters ...
\end{bug}



\begin{bug}[-]
  dimension too large sanity checking: TeX uses the maximum value instead.
  Perhaps that can be checked?
\end{bug}

\begin{bug}[-]
  view={0}{90}  and enlargelimits=auto is not always satisfactory: it disables enlarged
  limits, but for contours, I'd like to have it.
  What is to do?
\end{bug}

\begin{bug}[-]
  provide remark at end document "Package pgfplots: consider using the preamble
  command \verb|\pgfplotsset{compat=1.3} to improve label placement|"
\end{bug}

\begin{bug}[-]
  there are a lot of .code 2 args styles which do not support spaces between
  their arguments. Fix this.
\end{bug}

\begin{bug}[-]
  contour external should allow different variations how to deal with
  end-of-scanline markers. gnuplot requires empty lines; matlab doesn't deal
  with them as far as I know.
\end{bug}

\begin{bug}[-]
  contour external doesn't handle explicitly provided matrix data (mesh/rows and
  mesh/cols) yet.
\end{bug}

\begin{bug}[-]
  contour external doesn't handle the ordering flag correctly.
\end{bug}

\begin{bug}[-]
  the quiver/scale arrows   thing might need an "auto" option. If I don't add it
  now, it'll probably never work in the future.
\end{bug}

\begin{bug}[-]
  `1.23456e4;'  in a log plot resulted in hard-to-read error messages. Improve
  sanity checking here.
\end{bug}

\begin{bug}[-]
  the title style for 'footnotesize' is not as I want it to: it doesn't respect
  the depth below the baseline. Or does it need a \verb|\strut|?
\end{bug}

\begin{bug}[-]
  avoid dimension too large errors which occur due to a data range restrictions.
  Example:
  data range = 0:6000
  view range = 0:1
  $\leadsto$ results in error.
  But that's easy to detect! Just compute the point coordinate in float (after
  the scaling is complete). Then, install a filter somewhere. perhaps an "a
  posteriori" filter in the pointxyz command?
\end{bug}


\begin{bug}[-]
  the autodetection of the '\verb|\\|' list format is buggy: it should return true if
  and only if the last element is '\verb|\\|', not if '\verb|\\|' occurs inside of the
  argument.
\end{bug}


\begin{bug}[-]
  \verb|yticklabels={<list>}, extra y ticks={...}|  is incompatible since the extra
  ticks share the same tick typesetting routine (which, in turn, queries the
  <list>). 
\end{bug}

\begin{bug}[-]
  '\verb|\addplot[only marks]|' does not assign a plot mark; one needs 'mark=*'
  explicitly. that's confusing...
\end{bug}

\begin{bug}[-]
  The 'text depth' in legend entries is incompatible with 'text width'.
  The problem: text width is realized using \verb|\begin{minipage}[t]|
  so its contents is all in the depth. Setting text depths overrides the
  height!
\end{bug}

\begin{bug}[-]
  the '/pgfplots/table/.search also' is overwritten during \verb|\addplot table| with
  /.search also={/pgfplots}. That's not so good.
\end{bug}

\begin{bug}[-]
  one can't provide 'disable log filter' to addplot (but it might be
  interesting)
\end{bug}

\begin{bug}[-]
  FPU: atan doesn't check for unbounded inputs.
\end{bug}

\begin{bug}[-]
  unbounded inputs: improve warning messages: they should not contain low level
  FPU args.
\end{bug}

\begin{bug}[-]
  the user interface to set 'tickwidth=0' for a SINGLE axis is not very good: it seems one needs 'xtick style={/pgfplots/tickwidth=0}' to do so...
	$\leadsto$ can be solved if tickwidth has a family, I guess. Something like 'draw' which will not be pulled by pgfplots. But then remains a problem of key paths.
	
\end{bug}

\begin{bug}[-]
  the FPU has somewhere spaces; at least it treats them differently from pgfmathparse.
\end{bug}

\begin{bug}[-]
  I have seen that 'plot table' with very large files can produce pool size problems -- even if the coordinates are all filtered away.
	In other words: the code can't simply read a file and throw its contents away.
	The problem appears to be some math parsing using the table/x expr and friends.
	'pool size = names of control sequences and file name'
	$\leadsto$ the math parser could be improved with ifcsname
\end{bug}

\begin{bug}[-]
  axis lines and 3D: some tick lines are not drawn, see manual examples
\end{bug}

\begin{bug}[-]
  check for placement of tick scale label for compat=newest
	$\leadsto$ I improved them for 2d and 3d
	$\leadsto$ needs some further checks, I guess
	
\end{bug}

\begin{bug}[-]
  providing zmin/xmax to an axis activates 3D mode, ok -- but lower dimensional input routines appear to fail.
\end{bug}

\begin{bug}[-]
  one can't provide 'scale' as argument to a (3d) axis
\end{bug}

\begin{bug}[-]
  getthisrow still has to be fixed
\end{bug}

\begin{bug}[-]
  it may still happen that log-axes get only *one* tick label (in my case \verb|10^{-0.2}|). That should never happen.
	The range is about ymin=4.7e-1, ymax=9.5e-1
\end{bug}

\begin{bug}[-]
  log samples in plot expression for 3D plots
\end{bug}

\begin{bug}[-]
  different log bases and gnuplot
\end{bug}

\begin{bug}[+]
  3D gnuplot: z buffer fails (see tests)
\end{bug}

\begin{bug}[-]
  I tried placing a named coordinate inside one axis and using it in
	another. It failed.

	 CF: The axis is drawn inside of its own picture which will only be shifted if everything has been drawn. That will be the origin of this problem I guess

	Miraculously I can use the coordinate outside axis env. So I have
	reached the following solution:
\end{bug}

\begin{bug}[-]
  the compatibility things should be enabled automatically for some parts:
	- 3D
	- color bars
	- reversed axes
\end{bug}

\begin{bug}[-]
  plot coordinates doesn't check too well if 
	1. addplot3 is used but only two coords are given
	2. addplot is given but three coordinates are provided (also for plot expression)
\end{bug}

\begin{bug}[+]
  gnuplot: set terminal table seems to be deprecated.
\end{bug}

\begin{bug}[-]
  gnuplot and 3D
	$\leadsto$ I need a shared interface to prepare the required keys for expression plotting
\end{bug}

\begin{bug}[-]
  the compat things are not yet complete: I wanted to check when it is really necessary (for example if 'x dir' is used)
\end{bug}

\begin{bug}[-]
  the nodes near coords feature produces unexpected results when used together
  with markers $\leadsto$ this is due to the default configuration of scatter plots.
\end{bug}


\begin{bug}[-]
  check whether /pgfplots/ keys are processed properly in legends. This is
  certainly not the case for the \verb|\label/\ref| legend!
  $\leadsto$ which ones are the problem?
\end{bug}

\begin{bug}[-]
  the ybar style won't be set inside of \verb|\label{}|
\end{bug}


\begin{bug}[-]
  axis equal for semilog plots is not correct (?)
\end{bug}



\begin{bug}[-]
  backwards compatibility problem:
  	axis descriptions can't contain /pgfplots/ styles any longer! This is a key
	path issue :-(
\end{bug}


\begin{bug}[-]
  BUG: in empty axes, '\verb|xtick=\empty|' is ignored.
\end{bug}

\begin{bug}[-]
  finish impl of ticklabel pos.
  I should use the same thing for tickpos as well.
  And: the default arg processing which uses ticklabel pos = tickpos needs to be
  fixed.
  the 2D axes are wrong.
\end{bug}


\begin{bug}[-]
  The automatic tick labeling sometimes produces inconsistent or confusing
  labels:
  	1. engineering and fixed number style are mixed up. 
	2. If range of an axis is so small that the labels differ only on the third
	   decimal, still only two decimals are used. 
\end{bug}


\begin{bug}[-]
  3D: axis equal implementation might not be correct (at least not for view
  special cases)
\end{bug}

\begin{bug}[-]
  3D:
  	error bars and 
	stacked plots
	need to be updated.
\end{bug}

\begin{bug}[-]
  the \verb|\thisrow| commands in the table package does not (always) respect aliases!
\end{bug}

\begin{bug}[-]
  interp shader is displayed transparently in evince
\end{bug}

\begin{bug}[-]
\begin{verbatim}
  3D:  the use of \addplot3 and \addplot is not sanitized properly
	Possibilities:
	-  used \addplot  when \addplot3 should have been used
	-  used \addplot3 where \addplot should have been used.
	 What can happen here!? Shouldn't this work in every case?
 
- The "xtick" value is not applied unless there is a coordinate in the x range:
	$\leadsto$ that's the handling of empty figures...
	not working:
	  \begin{axis}[xtick=0]
	  \end{axis}
	not working:
	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
	  \end{axis}
	not working:
	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
		\addplot coordinates { (-10, 0) };
	  \end{axis}
	working:
	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
		\addplot coordinates { (0, 0) };
	  \end{axis}
\end{verbatim}
\end{bug}

\begin{bug}[-]
  think about basic level commands for the axis lines -- this should also allow
  \pgfpathclose !
\end{bug}


\begin{bug}[-]
  the arguments to \verb|plot file[#1] and plot table[#1]| are not consistent with
  rest. They need to be treated as behavior options (maybe in a different key
  path).
\end{bug}

\begin{bug}[-]
  check behavior options provided to table[] and file[] and so - is that
  correct?
\end{bug}


\begin{bug}[-]
  verify that 'draw=none' works! Is something broken here?
	$\leadsto$ write tests!
	+ it appears to be desired that (at least some) markers invoke
	  \verb|\pgfusepathqfillstroke|
	  $\leadsto$ they always 'draw', regardless of tikz color settings.
	  $\leadsto$ ok, I patched that in my marker code... (hackery :-( )
	- no, it works only partially:
	  	draw=none or fill=none works as expected.
		But 'blue' disables filling!?
	- Possible fix:
	  	Overwrite \verb|\filltrue \fillfalse, \drawtrue, \drawfalse|:
			they should set a further boolean '\verb|\drawbooleanhasbeenset|' and
			'\verb|\fillbooleanhasbeenset|'.
		$\leadsto$ Replace the \verb|\pgfusepathqfillstroke| if and only if the respective
		booleans have been set *explicitly*. If they are unchanged, fall back to
		a "reasonable" default.
	  
\end{bug}

\begin{bug}[-]
  In 3D case axis [xyz] line != box, there is just ONE hyperplane.
  My implementation works only if either ALL are box or ALL are 'middle'.
\end{bug}

\begin{bug}[-]
  3D case : grid lines work correctly, but they are not satisfactory.
  I'd like grid lines in the background only.
\end{bug}

\begin{bug}[-]
  3D case : tick/grid lines are on top of the axis lines. This leads to 
  poor quality.
\end{bug}



\begin{bug}[+]
  the clickable library does *not* work inside of figure environments
	$\leadsto$ yes. That's fixed; was a bug in hyperref.
	- I could try to re-implement it without insdljs. 
	  	Ideas: 
		- the document catalog's names dictionary needs to '/JavaScript
		[(<arbitrary script name>) <dictionary with JS>]' entry.
		The <dictionary with JS> contains document level javascript.
		- it is very simple to generate these entries for my case.
		  Unfortunately, this may be incompatible with 'insdljs' or other tools
		  which write DLJS.
		- I am not sure why the floating figures of TeX produce an
		  incompatibility here. It appears the 'hidden' flag in the form fields
		  are the problem - if that is the case, I'd need to reimplement the
		  form annotations (which could be more difficult).
\end{bug}

\begin{bug}[-]
  javascript stuff does not work if the complete figure is rotated (sidewaysfigure).
\end{bug}

\begin{bug}[-]
  javascript: incompatiblity with external library:
  	1. filenames: \verb|\jobname| contains characters with incompatible catcodes and
		that funny insdljs package tries to assemble macros with these
		characters.
		$\leadsto$ fixed; I simply use pgfplotsJS as temporary file name.
	2. the images as such have corrupted forms
	  $\leadsto$ Can be fixed if 
		\verb|\usepackage{eforms} |
		is used BEFORE loading pgf. The reason: \verb|\begin{Form}| and the shipout-hackery
		of the pgf externalization bite each other. 
		\verb|\begin{Form}| must come before the shipout hackery of pgf.
	3. \verb|\includegraphics |does not preserve PDF forms.
\end{bug}



\begin{bug}[-]
  the interrupt bounding box feature should still update the data bounding box.
  Otherwise, transformations may fail.
\end{bug}

\begin{bug}[-]
  extra ticks can be disabled by the tick special cases for axis lines (when two
  axis lines cross each other)
\end{bug}

\end{bugtracker}


\section{Feature Proposals PGFPlots}
\begin{bugtracker}

\begin{feature}[-]
  bar plots: provide constant zero level?
\end{feature}

\begin{feature}[-]
  implement properly layered graphics --- especially for grid lines
  should probably also respect multiple ordinates
\end{feature}

\begin{feature}[-]
  linear regression which passes through (0,0)  (see mail of Stefan Pinnow)
\end{feature}

\begin{feature}[-]
  plot graphics 3D: handle the case when the first two points share the same x
  (or y) coordinate
\end{feature}

\begin{feature}[-]
  hist does not allow modifications to the data range
\end{feature}

\begin{feature}[-]
  see the interesting things at 
  	\url{http://peltiertech.com/Excel/Charts/axes.html#Broken}
	 broken (y) axis: remove interval [a,b]
	  idea: 
	  if y<a   : visualize as usual
	  if a<y<b : use coordinate y=a
	  if b<y   : use coordinate y=y-(b-a)
	  axis: 
	  \begin{itemize}
	  	\item 
	   compute two sets of axis descriptions. Perhaps one can try to
	  compute the step size just once, and discard only [a,b] afterwards?
	  This would require to use a canvas axis length corresponding to the
	  unremoved axis range.
	  BTW: I need access to the unremoved axis range; both for tick computation
	  and for 'nodes near coords' or the clickable lib.
	 \item draw a decoration at the break.
	  \item perhaps also a decoration near affected coords.
	  \item perhaps I should apply the thing during the visualization phase, not
		before. Then, I have all limits and the correct coordinates; only canvas
		coords are affected.
	\end{itemize}
\end{feature}


\begin{feature}[-]
  plot graphics for 3D axes.
\end{feature}

\begin{feature}[-]
  feature to replicate axis descriptions on both sides
\end{feature}

\begin{feature}[-]
  polar axes: polar bar plots (see sourceforge feature request and 
  \url{http://matplotlib.sourceforge.net/examples/pylab_examples/polar_bar.html} )
\end{feature}

\begin{feature}[-]
  couldn't you add something like
	\verb|\providecommand*\pgfplotsset[1]{}|
  to the "tikzexternal.sty" so one doesn't have to do it by hand when 
  switching from tikz/pgfplots?
\end{feature}

\begin{feature}[-]
  discontinuity in the middle of a plot
  (as an example see the phase diagram of water
  \url{http://pruffle.mit.edu/3.00/Lecture_29_web/img20.gif})
\end{feature}

\begin{feature}[-]
  ternary diagram for extractions (more details will come)
\end{feature}

\begin{feature}[-]
  filled area between 2 addplot's (already requested in mailing list)
	perhaps style 'fill plot' which is applied in vis phase. There, one can
	access the postprocessed information of the previous plot.
\end{feature}

\begin{feature}[-]
  make work \verb|\matrix in \matrix| so one can use groupplots or 
  "Allignment in Array Form" (section 4.18.4) with legends
\end{feature}

\begin{feature}[-]
  nested axes would be a nice feature.
	TODO:
		- update the list of global state variables
		- "interrupt" these variables somehow.
		- make sure local redefinitions of TikZ commands (like point commands)
		  work; the \verb|\let...@orig=|  assignments should be handled somehow. 
		- What about keys? They will be inherited from the outer axis...
		  perhaps the best would be an 
\begin{verbatim}
\endgroup 
<nested axis> 
\begingroup
<restore state>
\end{verbatim}
		  which includes the keys of the outer axis!?
\end{feature}

\begin{feature}[-]
  support for "spy"glass into particular parts of an axis
\end{feature}

\begin{feature}[-]
  groupplots: group-wide axis labels
\end{feature}

\begin{feature}[-]
  It would be really great to have the possibility to attach a style to every nth row of a data table. For example, I would like to have a \verb|\midrule| not after every line or after odd/even lines but after every fifth (or whatever) line.
\end{feature}


\begin{feature}[-][prio=1]
  log plots: minor tick num would be useful here! If tick labels are placed at
  '1e-5, 1e0',  minor tick num= 4 would lead to the minor tick lines at
  '1e-4,1e-3,1e-2,1e-1'  which is useful.
  So:allow minor tick num for log axes.
  $\leadsto$
  	need to adjust the check for "uniform log ticks"
\end{feature}

\begin{feature}[-]
  is there a way to get the current row/col index during addplot?
\end{feature}

\begin{feature}[-]
  plot shell:
  	- It would be nice if the standard shell interpreter could be replaced.
	  Idea:
	  \verb|\pgfkeys{/pgfplots/plot shell/interpreter/.code 2 args={sh #1 > #2}}|
	  then in the code
	 \verb|\pgfkeysvalueof{/pgfplots/plot shell/interpreter/.@cmd}{#1.sh}{#1.out}\pgfeov|
	- the pgfshell macro is quite general and could be added to pgf (as
	  suggested by you, Stefan). However, this would also need modifications in
	  tikz.code.tex to get some sort of high-level user interface.
	  I find plot shell very useful, and it could be added easily. My
	  suggestion:
	  	Either write a high level user interface for tikz or rename the command
		to pgfplotsshell and put it into pgfplotscoordprocessing.code.tex.
	  In the meantime, I added it to pgfplotscoordprocessing.code.tex (bottom).
	- there is a potential difficulty with the 'addplot table shell' command
	  (which is a good solution!):  the semicolon in this routine will have a
	  fixed catcode. But packages like babel with french language will change it
	  to active, so french people can't use addplot table shell. The solution
	  is technical and I am not proude of my own anyway... we'll just have to
	  think about one.
	- documentation for the 'table shell' feature is missing yet.
	- I am not sure if the replication of /tikz/prefix and /tikz/id is helpful
	  or confusing....
\end{feature}

\begin{feature}[-]
  > Is it possible to shade the area between two curves, using pgfplots, such as 
	> in this example: \url{http://www.mathworks.com/matlabcentral/fileexchange/13188}
	> The only shading I could find is between one curve and the x axis... Shading 
	> between curves seems to be possible, but only with stacked curves. Is is 
	> possible to disable stacking somehow, but keep the closedcycle behavior?
\end{feature}

\begin{feature}[-]
  new \verb|\plotnumofactualtype| thing: if you set /tikz/ plot handlers in
  \verb|\begin{axis}|, they won't be set before the visualization phase. consequently,
  I can't count them!
  Idea: add a 'family' to each of them. Or wright a coord filter which checks
  for \verb|\tikz@plot@handler| . Or write pgfplots styles which set them.
\end{feature}

\begin{feature}[-]
  feature request for line styles in tikz/pgf or pgfplots respectively:
 add dash-dotted line which is quite commen in engineering field
  for example something like
 \begin{verbatim}
	\tikzset{
		dash-dot/.style={
			dash pattern=on 4pt off 3pt on 1pt off 3pt,
		},
	}
\end{verbatim}
\end{feature}


\begin{feature}[-]
  Konnodalplots fuer Ternary Axes

	given: pairs of points $(A_i,B_i)$ with $A_i,B_i \in R^3$ for the connodals

	aim: connect $A_i -- B_i$ for each $i$ \emph{and} create the binodal line $A_1 -- A_2 -- \dotsb A_n -- B_n -- B_{n-1} --\dotsb B_1$

	Remarks of stefan:

Im Anhang ist ein Beispiel gezeigt, wie es gehen k\"onnte.

Noch einmal zur Kl\"arung der Begriffe, mit denen ich gleich argumentieren werde:
\begin{itemize}
	\item 
 Binodale:		Kurve
 \item
 Konode(n):	Gerade(n)	[engl.: tie line]
 \item Kritischer Entmischungspunkt:
	Ist der Punkt, an dem die beiden Punkte der Konode zusammenfallen.
	(nicht eingezeichnet)
	\item Mischungsl\"ucke:	Das Gebiet, was von der Binodalen eingeschlossen wird.
  [engl.: miscibility gap]
\end{itemize}

Im Anhang findest du zum Einen die Daten-Datei und zwei m\"ogliche
Darstellungsformen.
Das "\verb|gibbs_phase_diagram|" ist die Darstellung im Dreieckdiagram (was auch
Gibbs'sches Phasendiagramm oder Gibbs'sches Phasendreieck genannt wird);
"\verb|cartesian_phase_diagram|" entsprechend im Kartesischen Phasendiagramm.

\IfFileExists{gibbs_phase_diagram.pdf}{\includegraphics[width=7cm]{gibbs_phase_diagram.pdf}}{}

\IfFileExists{cartesian_phase_diagram.pdf}{\includegraphics[width=7cm]{cartesian_phase_diagram.pdf}}{}


Wenn man die Daten generiert, bekommt man \"ublicherweise 2 Matrizen mit den
jeweiligen Zusammensetzungen an den Enden der Konoden ($A_y$ bzw. $B_y$, wobei y die
jeweilige Komponente ist). Diese kann man dann einfach nebeneinander setzen und
erh\"alt z.B. das mitgelieferte Textfile. 
Jetzt k\"onnte man schon einmal die Binodale zeichnen. Dazu generiert mein Kollege
in Matlab eine neue Matrix, indem er die UpDownGeflippte-Matrix B unter die
Matrix A h\"angt und diese dann zeichnen l\"asst.
Damit die Binodale "sch\"on rund" ist, erzeugt man h\"aufig mehr Punktepaare, als
man nachher als Konoden anzeigen lassen m\"ochte. In den mitgelieferten Plots ist
so nur jede 5. Konode eingezeichnet.

Die Frage ist nun, wie man das Abfragen der Konoden gestalten kann. Daf\"ur g\"abe
es jetzt die M\"oglichkeit einen Key zu erstellen, der sowas sagt wie "plot every
Xth tie line". 


Ich denke mal, du brauchst auch noch einen sch\"onen Namen den Aufruf dieses
Spezialfalls. Da diese zum Zeichnen von Mischungsl\"ucken dient, w\"are der
Englische Name daf\"ur (s.o.) eine M\"oglichkeit.


	was mir noch eingefallen ist:

- Zuweisung der Spalten
Es sollte weiterhin m\"oglich sein, Spalten zuzuweisen. Die Frage ist jetzt nur, wie man das macht. Am Einfachsten d\"urfte es sein, in den ersten 3 Spalten nach den Namen zu suchen. Sollte sie dort nicht gefunden werden, sollte eine Fehlermeldung erscheinen. Zum Zuweisen der "zweiten" dazugeh\"origen Spalte sollte zu der gefundenen Spaltennummer 3 hinzuaddiert werden. Metadaten k\"onnen somit erst ab der 7. Spalte auftauchen.


- kartesische Darstellung
hier hatte ich vergessen zu erw\"ahnen, wie dies \"uberhaupt funktioniert (vielleicht hast du es aber auch schon alleine herausbekommen).

Da sich die 3. Komponente immer als Differenz zu den gezeigten beiden ergibt, ist diese nicht zwingend zum Darstellen erforderlich. Ausgehend von der gleichen gegebenen table-Datei muss nun nur noch angegeben werden, welche beiden Komponenten dargestellt werden sollen. Dies sollte wie schon oben beschrieben wurde m\"oglich sein.

Das Plotten sollte dann out-of-the-box m\"oglich sein.

\end{feature}

\begin{feature}[-]
  disable bounding box updated during addplot -- it makes no sense and wastes
  time (unless the axis is hidden)
\end{feature}

\begin{feature}[-]
  output cs:
  	- implement automatic limit computation
	  	$\leadsto$ I prepared something like that; use it.
		I guess I'll need to convert the streamed data to the accepted format of
		the axis, at least in order to update limits.
\end{feature}

\begin{feature}[-]
  polar:
  \begin{itemize}
  	\item 
	 is my current datascaling approach correct? I mean, is the linear trafo
	  feasible at all?
  	\item the *affine* radius datascaletrafo could be enabled, if only
	  parts of the circle are drawn at all, for example
	  	xmin=0,xmax=45,
		ymin=1e-4,ymax=1.003e-4
	  Idea: check arc size and disable the radius *affine* data scaling only if
	  the arc has more than 90 (?) degrees
	  Is that mathematically correct? And: is it useful at all?
	\item handle "empty axis". It should reset to a circle, not a box.
\end{itemize}
\end{feature}

\begin{feature}[-]
  patch visualization: provide displacement input format
\end{feature}

\begin{feature}[+]
  write better on-the-fly table generation support like
 \verb|\addplot table[y=create col/linear regression{x=Basis,y=L2/ref_h,xmode=log,ymode=log},]|
\end{feature}

\begin{feature}[+]
  improve access to `create on use' things in addplot table.
\end{feature}

\begin{feature}[+]
  linear regression: at least when used inside of addplot table, the initial
  values of x,y,xmode,ymode should be acquired from pgfplots!
\end{feature}


\begin{feature}[-]
  the following keys should process their argument with pgfmathparse:
  \begin{itemize}
  	\item 
  	\item [xyz]tick,
	\item min/max
	\item tickmin/max
	\item meta min/max
	\item domain/ y domain,
	\item error bar arguments,
	\item without FPU: width/height/ view
	\item check optimizations of the math parser!
	\item check if I can activate the FPU during the survey phase!
\end{itemize}
\end{feature}

\begin{feature}[-]
  add polar coordinates
\end{feature}

\begin{feature}[-]
  Idea for input stuff: implement high level user interface for coordinate
  input, similar to the pgf basic level framework. Then, add styles on top of it
  (try to be compatible with DV engine)
\end{feature}

\begin{feature}[-]
  Idea:
  	implement an automatic /pgf/number format setting which determines a
	suitable representation for a *set* of numbers.
	For example,
		1e-17 0.2 0.4 0.8
	should be printed as
		0 0.2 0.4 0.8
	whereas
		1e-17 2e-17 3e-17
	should be printed using the scientific range (perhaps even using some sort
	of scaling as for ticks).
	This would be useful for contour plot labels as well.
	$\leadsto$ a realization should check the data range (especially its exponent). 
	Thus, I want a *relative* number printing style.
\end{feature}


\begin{feature}[-]
  new plot structure : use the `/data point' key interface coming with pgf CVS
\end{feature}

\begin{feature}[-]
  new structure for math operations:
	  \begin{itemize}
	\item aim: interface for math operations which works independent of lowlevel repr
	\item> FPU vs basic pgf vs LUA vs 'fp.sty' vs ....
	\item> log axes can be done in pgf (faster)
	\item necessary: high level \verb|\pgfmathparse| *and* mid level invocation of
	  operations
	\item necessary: parsenumber, tofixed, tostring
	\item datascaling needs access to exponents and base 10 shifts
	\item necessary: check for nan and inf
	\item necessary: the max/min routines which are no longer supported by pgf (the
	  \verb|\pgfplotsmath...| routines)
	\end{itemize}
	interface:
	\begin{itemize}
		\item 
	  	transparent exchange of math mode routines
		\item fast (enough)
		\item for each axis separately (optimized for log)
		\item variable number of arguments
		\item expansion of arguments should be possible
		\item the interface is necessary for *coordinate* arithmetics, 
		  not necessarily for the pgf interaction (can keep register math)
	\end{itemize}
	realization ideas:
	\begin{itemize}
	  	\item command suffix for each axis '@basic' versus 'float'
		\item central interface to invoke math ops:
		  	\verb|\pgfplotscoordmath{x}{multiply}{{<arga>}{<argb>}}|
		  Idea: use \verb|\edef| on the arguments.
		\item provide \verb|\pgfplotssetmathmode{x}{<suffix>}|
		   should assert that the desired interface is complete
		\item \verb|\pgfmathparse| may need to be adjusted if it uses a different output
		  format than <suffix>
	\end{itemize}
	TODO:
	\begin{itemize}
		\item the log routines -$\leadsto$ also use it for table package.
			BUGGY! compare examples in manual. Minor log ticks don't work at
			all, default log tick labels are simply wrong.
		\item disablelogfilter case
		\item error bars work with both, float and log
		\item plothandlers.code.tex
		\item prepare@ZERO@coords
	\end{itemize}
\end{feature}

\begin{feature}[-]
  rewrite the read number routines. They should allow 'disabledatafilter' thing
  during addplot.
\end{feature}

\begin{feature}[-]
  quiver plots:
  \begin{itemize}
  	\item allow to disable update of axis limits
	\item provide rescaling of arrows such that they don't overlap.
	  manual rescaling is simple, auto is more difficult.
	  	auto: if I have a matrix, I could rescale such that its mesh width is
		larger than the largest vector.
		Same fo a vector of input data.
		But what if I don't know whether it's a vector or matrix?
		$\leadsto$ second run.
		$\leadsto$ after the first, it should be possible to autocomplete the mesh
		rows/cols. Try it. If that works, we have a matrix.
		$\leadsto$ could be done from within the scanlinelength routines: auto-detect
			 mesh/rows
			 mesh/cols
			 mesh/ordering
			 mesh/width
		 but that fails if there is no scanline marker.
	\item what with log plots? What with other axis features like symbolic trafos?
	  	$\leadsto$ need difference type!
	\item that is: quiver plots in log coords are *multiplicative* and invoke the
	  same routines. make special handling for '0'.
	\item allow feature where (u,v) are *coords*, not vectors. this could allow
	  additive log quiver plots.
	\end{itemize}
\end{feature}

\begin{feature}[-]
  plot expression: make the sampling parameters available within survey phase
\end{feature}

\begin{feature}[-]
  the table package uses a lot of logs -- but it can't change the log basis.
\end{feature}

\begin{feature}[-]
  3D + axis line variants: someone might prefer GRID LINES as for the boxed case
  combined with axis line=left...
\end{feature}

\begin{feature}[-]
  bar plots:
  \begin{itemize}
  	\item 
	 bar interval plot handler which *assumes* uniform distances. This allows to eliminate the last, superfluos grid point (because it can be generated automatically as replication xlast + h for known h)
	\item in fact, I could also implement
		xlast + hlast
	and introduce a new name like 'bar interval*' or something like that
\end{itemize}
\end{feature}


\begin{feature}[-]
  Mails from Stefan Ruhstorfer:
  \begin{itemize}
  	\item 
	Gruppierte S\"aulendiagramme sind nach meinem Wissenstand nur dann m\"oglich wenn man in der Axis-Definiton die Bedindung ybar angibt. Ich finde diese Ausrichtung sehr unflexible, da ich sehr oft \"uber das Problem stolpere, dass ich in meinem gruppierten S\"aulendiagramm noch eine waagrechte Linie oder \"ahnlichs einzeichnen m\"ochte um z.B. meine obere Toleranzgrenze einzuzeichnen. Bis jetzt mache ich das \"uber den normalen draw Modus, was auch ausgezeichnet funktioniert. Jedoch habe ich dann das Problem, dass ich keinen sch\"onen Legendeintrag mehr bekomme. Hier h\"ate ich 2 Vorschl\"age. Zum einen die Legende "freier" zu gestalten. Also so, dass man beliebig (ggf. auch ohne Plot) ein Legendenelement hinzuf\"uen kann und vllt. noch das zugeh\"orige Symbol festlegen kann. (Bis jetzt habe ich das Problem, das ich mit tricksen zwar meine Obere Tolerangrenze in die Legende bekomme, dann jedoch mit einem S\"aulenzeichnen davor).
	Der andere Vorschlag ist, dass S\"aulendiagramm anders zu definiern. So das ich auch noch einen Plot hinzuf\"ugen kann, der mir eine waagrechte Linie ohne zu tricksen einzeichnen l\"asst.
	\item Eine Gruppierung von stacked bars ist nach meinem Wissen nicht m\"oglich. Es ist zwar schwer sich ein Anwendungsgebiet daf\"ur vorzustellen, aber wenn sie danach mal suchen (speziell im Excelbereich) werden sie sehen, dass viele Leute so eine Funktion benutzen. 
	$\leadsto$ siehe auch folgemails mit Beispielskizzen
	$\leadsto$ beachte: Fall 2.) erfordert mehr arbeit als lediglich 'line legend', weil ybar ja den koordinatenindex verarbeitet!
\end{itemize}
\end{feature}

\begin{feature}[-]
  Mail by Hubertus Bromberger:
  \begin{itemize}
  	\item \ok
	 Period in legend, without the need of using the math environment?
	  \verb|\legend{ML spcm$.$, CW spcm$.$, ML AC};|
	\item Maybe a more straight forward way for legend to implement something like
	  shown   in the graph. (see his mail .tex)
	  	$\leadsto$ plot marks only at specific points.
		thus, the legend image should contain both lines and marks, but there
		are effectively two addplot commands.
	\item As a physicist, I often have the problem to fit curves. A job gnuplot can do
	  very well. It should be possible using "raw gnuplot" but maybe you can either
	  provide an example or even implement a more straight forward way for this
	  purpose.
	\item The color scheme is not really my taste.
		In CONTEXT:
\begin{verbatim}
							 cycle list={%
									{Col1,mark=*},
									{Col2,mark=square*},
									{Col3,mark=diamond*},
									{Col4,mark=star}, 
									{Col5,mark=pentagon*},
									{Col6,mark=square*},
									{Col7,mark=diamond*},
									{Col8,mark=triangle*} }}
		  \definecolor[Col1][r=0.24106,g=0.05490,b=0.90588]  % blau
		  \definecolor[Col2][r=1,g=0.05490,b=0.06667]        % rot
		  \definecolor[Col3][r=0.65490,g=0.73333,b=0.01176]  % grÃ¼n
		  \definecolor[Col4][r=0.08627,g=0.92549,b=0.91373]  % tyrkis
		  \definecolor[Col5][r=1,g=0.5,b=0]              % orange
		  \definecolor[Col6][r=0.54118,g=0.51765,b=0.51765]  % grau
		  \definecolor[Col7][r=0.80784,g=0.49804,b=0.06275]  % okker
		  \definecolor[Col8][r=0.74902,g=0.07451,b=0.91765]  % lila
\end{verbatim}
	\item Sometimes it would be good to have a bit more of a programming language, but
	  still that's not what tex is made for. The python-script looks promising, it's
	  just, that I think it doesn't work with context.
\end{itemize}
\end{feature}

\begin{feature}[-]
  add something like 
\begin{verbatim}
	\pgfplotstabletypeset[
	  cell { 1 }{ 2 }={\multirow{*}{3}{text}}
	]
\end{verbatim}
\end{feature}

\begin{feature}[-]
  I got several feature requests for non-cartesian axes.
  Perhaps there is a way to generalize the complete procedure... as far as I
  remember, I use the pointxyz routines anyway to place tick marks and so on.
  Perhaps it can be reconfigured to do something "advanced".
  Idea: nonlinear transformation into the axis combined with special drawing
  rotuines for the axis?
  ternary diagrams
  \url{http://staff.aist.go.jp/a.noda/programs/ternary/ternary-en.html}.
  smith charts
 \url{http://www.mathworks.com/access/helpdesk/help/toolbox/rf/f2-999699.html}
  \url{http://www.siart.de/lehre/smithdgr.pdf}
\end{feature}

\begin{feature}[-]
  ternary diagrams todo:
  \begin{itemize}
  	\item the \verb|\pgfplotsqpointoutsideofaxis|
	  work only for position 1, nothing in-between (since it doesn't compute the
	  other axis components correctly)
	\item data ranges are currently only correct if in [0,1] or if one provides the
	  [xyz]min and [xyz]max keys (and the ternary limits relative=false).
	  How should it work!?
\end{itemize}
\end{feature}

\begin{feature}[X]
  idea: 'mesh/ordering=auto'. Just check for 'x varies' and 'y varies'! The two
  first points inside of a scanline are enough.
\end{feature}

\begin{feature}[-]
  contour:
  \begin{itemize}
  \item labels={true,false,auto}
   	$\leadsto$ auto should deactivate labels if there are too many contour lines.
  \item labels should not be clipped...
  \item add label position shifting facilities.
		$\leadsto$ identify by contour label *and* an optional index. There may be more
		than one line.
\end{itemize}
\end{feature}

\begin{feature}[-]
  contourf: I guess filled contour plots could be possible if always two
  adjacent color levels are combined into a single path which is then filled
  with the simplified even/odd rule (not the winding fill rule). With the
  underlying smoothness assumption $C^0$, there can't be any level between two
  adjacent ones, and there can't be self-intersections.
\end{feature}

\begin{feature}[-]
  it would be very interesting to allow more flexible handling of empty lines in
  input data, especially files.
\end{feature}

\begin{feature}[-]
  contour draft TODO:
  \begin{itemize}
  	\item color of text nodes
	\item make sure there is at least one label node
	\item implement contourf
	\begin{itemize}
		\item often: use 'even odd rule' to fill adjacent contours.
		\item but this works only if adjacent contours are contained in each other.
		\item if that's not the case, perhaps I need to add an artifical path from
		  the data limits.
		\item idea: in case I know the corner values, I'd know which contour
		plateau requires  the artifical path.
		\item other idea: I could implement some sort of even-odd rule in TeX. This
		should also yield the information.
	\end{itemize}
\end{itemize}
\end{feature}


\begin{feature}[-]
  implement simplified constructions to access DIFFERENCE coordinates.
  For example, \verb|\draw| ellipse needs x radius and y radius.
\end{feature}


\begin{feature}[-]
  it might be interesting to fill the area between two paths. Perhaps there is
  such a feature in pgf; or perhaps I can generalize the \verb|\closedcycle|
  implementation written for stacked plots.
\end{feature}

\begin{feature}[-]
  provide a \verb|\numplotsperplothandler| or something like that. This would improve
  things for bar plots!
\end{feature}

\begin{feature}[-]
  the 'table/y index' should be changed. It should be min(numcols,1) instead of 1.
\end{feature}

\begin{feature}[-]
  table package and axes should improve their communication.
  Namely: 
  \begin{itemize}
  	\item 
  \item communicate table names.
  \item communicate xmode/ymode
  \item communicate log basis [xy]
\end{itemize}
\end{feature}

\begin{feature}[-]
  provide and document access to (sanitized?) mesh/rows and mesh/cols fields
  during the survey phase. This might allow 2d key filters
\end{feature}

\begin{feature}[-]
  Praktisch f\"ande ich, wenn man folgende Dinge spezifizieren kann:
1. Welche Zeilen aus der Datei ausgelesen sollen (h\"aufig gibt es nicht
nur 1, sondern mehrere Header-Zeilen, oder auch am Ende noch sonstige
Zeilen)
\end{feature}

\begin{feature}[-]
  improve support for multiple ordinates
\end{feature}

\begin{feature}[-]
  it would be useful if the clipping could be disabled for certain parts of the
  axis. Is that possible?
  \begin{itemize}
  	\item yes. 
	Idea: start clipping for every axis element separately! Shouldn't be
	much more expensive than a single marker path.
	\item should work in the same way as before, there is no difference!
	\item scopes should introduce no further problems
	\item I could eliminate the nasty marker list
\end{itemize}
\end{feature}

\begin{feature}[-]
  provide a \verb|\pgfplotspathcube| command as generalization from the cube marker.
  The cube command should work similar to pathrectangle or rectanglecorners.
\end{feature}

\begin{feature}[-]
  re-implement sampling loops. I should discard the compatibility with foreach
  internally in order to gain accuracy! Maybe it is necessary to invoke
  different loops - one for tikz foreach (samples at) and one "standard"
  sampling routine.
\end{feature}


\begin{feature}[-]
  optimization ideas:
  \begin{itemize}
	\item replace \verb|\pgfpointscale| with a 'q' version $\leadsto$ it invokes the expensive math parser.
	\item pgfmultipartnode evaluates every anchor twice
  	\item implement a cache for expensive, repeated math operations like 'view'
	  directions or common results of $1/||e_i||$ .
	\item search for unnecessary math parser invocations; replace with 'q' versions
	  if possible.
	\item implement a hierarchical generalization of the 'applist' container (a tree
	  applist of arbitrary length)
	\item eliminate the deprecated 'non-legend-option' processing.
	\item remove the different (empty) paths of the axis node -- it appears they are
	  not necessary and waste only time and mem.
	\item try implementing an abstract 'serialize' and 'unserialize' method - it
	  might be faster to re-process input streams instead of generating
	  preprocessed coordinate lists.
	\item try to reduce invocations of pgfkeys
	\item optimize the filtered pgfkeys invocations - the filter is slower than
	  necessary!
	\item the plot mark code invokes a lot of math parsing routines - which is a waste
	  of time in my opinion. All expressions etc. have already been parsed.
	\item the point meta transform is set up twice for
	  scatter plots.
	\item my elementary data structures always use \verb|\string| to support macros as data structure names. I fear this might be ineffective.
	 Perhaps its better to check if the argument is a macro (at creation time, thus only once) and call \verb|\edef#1{\string#1}| to assign some sort of name to it.
	 This will invoke \verb|\string| only once. Is this faster?
	\item eliminate the 'veclength' invocations for single axes - they can be
	  replaced with "inverse unit length * (max-min)"
	\item the key setting things can be optimized with pgfkeysdef
	\item create the /pgfplots/.unknown handler (.search also=/tikz) once and remember it.
	\item the (new) tick label code might be very expensive:
		\begin{itemize}
	  	\item check for (unnecessary) calls to \verb|\pgfpointnormalised| -- the normal
		  vectors are already normalised!
		\item check the cost for bounding box size control of the tick labels --
		  maybe this can be optimized away if it is not used. But this decision
		  is not easy.
		\end{itemize}
\end{itemize}
\end{feature}


\begin{feature}[-]
  perhaps math style \verb|{grid=major, axis x line=middle, axis y line=center, tick align=outside}|
\end{feature}

\begin{feature}[-]
  asymmetric error bars
\end{feature}

\begin{feature}[-]
  provide access to axis limits and data bounding box.
  It would be useful to get access to axis coordinates, for example in 'circle (XXX)'
\end{feature}

\begin{feature}[-]
  allow math expressions for axis limits etc. Idea: try float parsing routine;
  if it fails: use math parser first.
\end{feature}

\begin{feature}[-]
  write a public math interface which provides access to axis internals like
  limits, the 'dimen-to-coordinate' method and so on.
  $\leadsto$ it might be useful to use pgfmathparse for any numerical input argument as
  well.
\end{feature}

\begin{feature}[-]
  Store the axis limits into the axis' node as saved macros. This would allow
  \begin{itemize}
  	\item 'use [xy] limits of=<axis name>'
	\item access to axis limits from other macros.
	\item provide a command
		\verb|\pgfplotslimits{current axis}{x}{min}|
	  which expands to the 'xmin' limit.
	  PROBLEM: to WHICH limit: the untransformed one? The transformed one? The
	  logarithmized one?
	  \begin{itemize}
	  \item> I can't compute exp(xmin) in log plots!
	  \item Ideas:
	  		\item provide both, if possible. It is NOT possible for log axes.
			\item use log-limits ( possibly combined with 'logxmin=' option ?)
			\item The operation requires several operations because floats need to
			  be converted. Idea: do that only for NAMED AXES.
			  \item all user-interface macros must be expandable!
			\item I don't want to spent time for number format conversions
			  unnecessarily here!
			\item provide \verb|\pgfplotslimits| and \verb|\pgfplotstransformedlimits|
			  combined with simpler key-value interfaces
			\item I could also provide access to the unit lengths (they are
			  available as macro anyway)
			\item ALTERNATIVE: implement access to axis limits as a math function
			  which simply defines \verb|\pgfmathresult|.
			\item that is probably the most efficient way to do it. I only need to 
			  register the new function(s) to PGF MATH.
			  	\item PGF 2.00: use \verb|\csname pgfmath@parsefunction@\pgfmath@parsedfunctionname\endcsname|
				\item PGF > 2.00: use \verb|\pgfmathdeclarefunction|
				Is it possible to provide 'string' arguments which are not
				parsed? No.
	\end{itemize}
\end{itemize}
\end{feature}

\begin{feature}[-]
  I could provide public macros for the data transformations (and inverse
  transformations). This would also allow relatively simple access to axis
  limits.
\end{feature}

\begin{feature}[-]
  cycle list should be implemented using an array structure. That's faster.
\end{feature}


\begin{feature}[-]
  what about a feature like 'draw[xmin=...,xmax=...] fitline between points (a)
  (b)'?
\end{feature}

\begin{feature}[-]
  interpolate missing coordinates for stacked plots.
\end{feature}

\begin{feature}[-]
  the error bar implementation is relatively inefficient. Think about something like
  '/pgfplots/error bars/prepare drawing'
  which sets common style keys for every error bar
\end{feature}

\begin{feature}[-]
  think about using a combination of the visualization engine of pgf CVS and my
  prepared-list-structure. Maybe I can adjust the list format for the current
  plot type? I need
  \begin{itemize}
  	\item scatter/line plots 2D
	\item meta coords
	\item quiver may need extra vectors
	\item matrix plots may need twodimensional structure
	\item error bars could be handled more consistently
	\item ...
  \item> implement a visualization class which provides methods
  	\begin{itemize}
  	\item prepare()
	\item visualize()
	\item serialize()
	\item visualizestream()
	and provide protected pgfplots methods
	\item axis$\leadsto$preprocesscoordinate (filters, logs)
	\item visualizer$\leadsto$prepare()
	\item axis$\leadsto$processcoordinate()
	\item visualizer$\leadsto$serialize()
	\item axis$\leadsto$postprocesscoordinate()
	The markers as they are implememted now don't really fit into this framework. 
	The clipping region is not really what I want here...
	Idea: enable/disable clipping separately for each drawing command!
	\end{itemize}
\end{itemize}
\end{feature}

\begin{feature}[-]
  the coordindex shouldn't be changed by z buffer=sort
\end{feature}

\begin{feature}[-]
  table package: provide abstract layer for low level storage interface.
  Idea: the interface should allow the container interface
  \begin{itemize}
  	\item push\_back()
	\item get(i)
	\item set(i)
	\item foreach()
	\item pop\_front()
	\item newempty()
	\item clone()
	\item unscope()
	\item startPushBackSequence()
	\item stopPushBackSequence()
\end{itemize}
  $\leadsto$ this could allow to use arrays for fast algorithms. At least it would make
  things easier to read.
  Problem as always: the 'unscope()' operation. 
  Currently, I have two different structures: the applists which have fast
  construction properties and the standard lists which implement the rest.
  Can I combine both? Yes, by means of the incremental construction pattern:
\begin{verbatim}
  \startPushBackSequence
  \push_back
  \push_back
  \push_back
  \stopPushBackSequence
\end{verbatim}
  $\leadsto$ inside of the construction, only \verb|\push_back| is allowed and the structure is
  in "locked state" (low level: applist repr)
  $\leadsto$ Idea: the creation is fast, afterwards, it has flexibility.
\end{feature}

\begin{feature}[-]
  It is certainly possible to write some sort of CELL-BASED 'mesh/surf' shader -
  a combination of 'flat corner' and cell based rectangles:
  \begin{itemize}
  \item every coordinate denotes a CELL instead of a corner,
  \item the "shader" maps the cdata into the colormap to determine the cell color
  \item details?
  \begin{itemize}
  		\item to get well-defined cells, I have to enforce either a non-parametric
		  lattice grid or do a LOT of additional operations (?).
		\item alternative: define N*M cells by N+1 * M+1 points.
		\item perhaps a combination of both?
		  	$\leadsto$ that's more or less the same as 'flat mean' up to the further
			row/column pair
\end{itemize}
  \item it would be generally useful to have an "interval" or "cell" mode: 
	the idea is that every input coordinate defines an interval (1d) or a cell
	(2d). To define the last cell, one needs to add one "mesh width" somehow.
	I just don't know where:
  \begin{itemize}
		\item the artificial cell should be processed with the normal streams -
		  including limit updates, stacking etc.
		\item the artificial cell needs to know when the end-of-stream occurs.
		  For 1d plots, that may be possible. For 2D plots, this information
		  requires a valid 'cols' key.
		\item I suppose it would be best to patch @stream@coord.. at least for the
		  'cell' mode.
		\item Idea:
  \begin{itemize}
		  	\item the \verb|\pgfplots@coord@stream@coord| implementation realizes the
			  cell-mode: after every 'cols' coordinate, a further one is
			  replicated. This needs the "last mesh width".
			  Furthermore, it needs to accumulate a row vector, the "last row".
			  This last row is need during stream@end to replicate the further
			  row:
			\item the \verb|\pgfplots@coord@stream@end| implementation has to realize the
			  last step of cell mode: the replication of a further row. It also
			  has to realize the implementation of 'interval' mode (replication
			  of last coordinate).
			  My idea is to simply use an applist for this row accumulation. The
			  format should be compatible with \verb|\pgfplots@coord@stream@foreach@NORMALIZED|.
			  That doesn't produce problems, even when the end command is invoked within
			  a foreach@NORMALIZED loop - because the loop has already ended.
\end{itemize}
\end{itemize}
\end{itemize}
\end{feature}

\begin{feature}[+]
  external lib + makefile support: provide data files automatically as prereqs
\end{feature}

\begin{feature}[-]
  support \verb|\multicolumn| for legends
\end{feature}

\begin{feature}[-]
  it appears line breaks in legend descriptions are a problem (?)
	$\leadsto$ bug in pgf: \verb|\\| is overwritten and won't be restored.
\end{feature}

\begin{feature}[+]
  external lib + makefile support: provide data files automatically as prereqs
\end{feature}

\begin{feature}[-]
  pgfplotstable file open protocol: provide public listener interface
\end{feature}

\begin{feature}[-][]
  \verb|\addplot coordinates {\macro};|
\end{feature}

\begin{feature}[-]
  precise width calculation idea:
  \begin{itemize}
	\item Problem: total width depends on width of axis descriptions
	\item width of axis descriptions depends on position of axis descriptions
	\item position of axis descriptions depends on width of axis
	\item width of axis depends on width of axis descriptions
	\item non-linearly coupled system.
	\item Idea: introduce a loop. 
  \begin{itemize}
		\item details: 
			\begin{enumerate}
				\item 
			 place axis descriptions + the axis rectangle into a box. 
			\item Measure box'es width, throw it away if it is too bad. Keep it and stop iteration otherwise.
			\item recompute the complete scaling.
			\item  go back to step 1.) and iterate
			\end{enumerate}
		\item one or two iterations should be enough .
		\item it's not necessary to recompute the prepared and stored plots. Just keep them in main memory until the scaling is fixed.
\end{itemize}
\end{itemize}
\end{feature}
	
\end{bugtracker}
\end{document}
